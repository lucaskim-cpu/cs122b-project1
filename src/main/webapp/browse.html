<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse Movies</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Browse Movies</h1>
    </header>
    <main>
        <section>
            <h2>Browse by Genre</h2>
            <ul id="genres">
                <!-- Genres will be dynamically loaded here -->
            </ul>
        </section>
        <section>
            <h2>Browse by Title</h2>
            <div id="title-buttons">
                <!-- Alphanumeric title buttons will be dynamically loaded here -->
            </div>
        </section>
        <div id="results">
            <!-- Browse results will be inserted here -->
        </div>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const titleButtonsDiv = document.getElementById('title-buttons');
            const letters = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ*';
            letters.split('').forEach(letter => {
                const button = document.createElement('button');
                button.textContent = letter;
                button.addEventListener('click', function() {
                    fetch(`/api/browse?initial=${letter}`)
                        .then(response => response.json())
                        .then(data => {
                            const resultsDiv = document.getElementById('results');
                            resultsDiv.innerHTML = '';
                            data.forEach(movie => {
                                const movieDiv = document.createElement('div');
                                movieDiv.innerHTML = `<h3>${movie.title}</h3><p>${movie.year} - ${movie.director}</p>`;
                                resultsDiv.appendChild(movieDiv);
                            });
                        });
                });
                titleButtonsDiv.appendChild(button);
            });
        });
    </script>
</body>
</html>
